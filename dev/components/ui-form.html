<style>
    .form-group {
        margin-bottom: 15px;
    }

    label {
        display: block;
        margin-bottom: 5px;
        font-weight: 500;
        color: #374151;
    }

    input,
    textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        font-family: inherit;
    }

    input:focus,
    textarea:focus {
        outline: none;
        border-color: #4f46e5;
        ring: 2px solid #4f46e5;
    }

    .btn-group {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
        margin-top: 20px;
    }
</style>

<div class="form-group">
    <label>单词拼写</label>
    <input type="text" s-model="word" placeholder="例如：Serendipity">
</div>

<div class="form-group">
    <label>中文翻译</label>
    <input type="text" s-model="trans" placeholder="输入翻译...">
</div>

<div class="form-group">
    <label>例句 (选填)</label>
    <textarea s-model="sentence" rows="2"></textarea>
</div>

<div class="form-group">
    <label>备注 (选填)</label>
    <input type="text" s-model="note">
</div>

<div class="btn-group">
    <button class="btn btn-outline" s-on="click:cancel">取消</button>
    <button class="btn btn-primary" s-on="click:save">保存</button>
</div>

<script>
    // 这里的 $state 会自动与 inputs 的 s-model 同步

    // 监听外部传入的 form-data 数据并回填表单
    $watch('form-data', (json) => {
        const data = JSON.parse(json);
        // 批量赋值给 state
        Object.assign($state, data);
    });

    $methods.save = () => {
        // 收集 state 里的数据传出去
        const payload = {
            id: $state.id,
            word: $state.word,
            trans: $state.trans,
            sentence: $state.sentence,
            note: $state.note
        };
        if (!payload.word) return alert('单词不能为空');
        $emit('submit', payload);
    };

    $methods.cancel = () => $emit('cancel');
</script>
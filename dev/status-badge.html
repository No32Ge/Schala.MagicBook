<style>
    .badge { padding: 5px 10px; border-radius: 4px; background: #eee; color: #666; display: inline-block;}
    .badge.online { background: #d1fae5; color: #065f46; border: 1px solid #34d399; }
</style>

<template>
    <!-- s-class="isOnline": æ ¹æ®çŠ¶æ€åˆ‡æ¢ç»¿è‰²æ ·å¼ -->
    <div class="badge" s-class="isOnline">
        <span s-text="statusText">æ£€æµ‹ä¸­...</span>
    </div>
</template>

<script>
    // åˆå§‹åŒ–é»˜è®¤æ•°æ®
    $state.isOnline = false;
    $state.statusText = 'ç¦»çº¿';

    // [å…³é”®ä¿®æ­£] ä½¿ç”¨ $watch ç›‘å¬çˆ¶ç»„ä»¶ä¼ ä¸‹æ¥çš„ status å±æ€§
    // å½“çˆ¶ç»„ä»¶æ‰§è¡Œ <status-badge status="online"> æ—¶ï¼Œè¿™é‡Œä¼šè‡ªåŠ¨è§¦å‘
    $watch('status', (newVal) => {
        console.log('å­ç»„ä»¶æ”¶åˆ°äº†æ–°çŠ¶æ€:', newVal);
        
        if (newVal === 'online') {
            $state.isOnline = true;
            $state.statusText = 'ğŸŸ¢ åœ¨çº¿';
        } else {
            $state.isOnline = false;
            $state.statusText = 'ğŸ”´ ç¦»çº¿';
        }
    });
</script>